<Page x:Class="Cafebook.Views.admin.pages.DashboardView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Cafebook.Views.admin.pages"
      mc:Ignorable="d" 
      d:DesignHeight="650" d:DesignWidth="1050"
      Title="DashboardView"
      FontFamily="Segoe UI"
      Loaded="Page_Loaded">

    <Page.Resources>
        <Style x:Key="KpiCard" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="5"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="10"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect ShadowDepth="1" Color="#E0E0E0" Opacity="0.5" BlurRadius="10"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ReportButton" TargetType="Button">
            <Setter Property="Background" Value="#EAECEE"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0, 5"/>
        </Style>
    </Page.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="Tổng quan Hôm nay" FontSize="28" FontWeight="Bold" Foreground="#2C3E50" Margin="10,0,0,20"/>

        <StackPanel Grid.Row="1" Orientation="Horizontal">
            <Border Style="{StaticResource KpiCard}" MinWidth="250">
                <StackPanel>
                    <TextBlock x:Name="lblDoanhThu" Text="0 VND" FontSize="26" FontWeight="Bold" Foreground="#27AE60"/>
                    <TextBlock Text="DOANH THU" FontSize="14" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
            <Border Style="{StaticResource KpiCard}" MinWidth="200">
                <StackPanel>
                    <TextBlock x:Name="lblDonHang" Text="0" FontSize="26" FontWeight="Bold" Foreground="#2980B9"/>
                    <TextBlock Text="ĐƠN HÀNG" FontSize="14" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
            <Border Style="{StaticResource KpiCard}" MinWidth="250">
                <StackPanel>
                    <TextBlock x:Name="lblSanPhamBanChay" Text="Chưa có" FontSize="22" FontWeight="Bold" Foreground="#E67E22" TextTrimming="CharacterEllipsis"/>
                    <TextBlock Text="SẢN PHẨM BÁN CHẠY" FontSize="14" Foreground="Gray" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
        </StackPanel>

        <Grid Grid.Row="2" Margin="10, 20, 10, 10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Style="{StaticResource KpiCard}" Margin="0,0,10,0">
                <Grid>
                    <TextBlock Text="Phân tích Dữ liệu" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                    <TextBlock Text="Khu vực hiển thị biểu đồ (đang phát triển)" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="Gray"/>
                </Grid>
            </Border>

            <Border Grid.Column="1" Style="{StaticResource KpiCard}" Margin="10,0,0,0">
                <StackPanel>
                    <TextBlock Text="Báo cáo &amp; Tác vụ" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,15"/>
                    <Button x:Name="btnExportRevenue" Content="Xuất Báo cáo Doanh thu" Style="{StaticResource ReportButton}" Click="BtnExportRevenue_Click"/>
                    <Button x:Name="btnExportInventory" Content="Xuất Báo cáo Tồn kho" Style="{StaticResource ReportButton}" Click="BtnExportInventory_Click"/>
                    <Button x:Name="btnExportPerformance" Content="Xuất Báo cáo Hiệu suất NV" Style="{StaticResource ReportButton}" Click="BtnExportPerformance_Click"/>
                    <Button x:Name="btnViewHistory" Content="Xem Lịch sử Hệ thống" Style="{StaticResource ReportButton}" Click="BtnViewHistory_Click"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Page>